---
id: ws-full
category: workspace
label: 전체 (프리셋 + 관리자 배포)
summary: 역할별 프리셋 + 관리자 배포 + 사용자 커스터마이징 + 크로스 디바이스 복원을 모두 지원하는 완전한 워크스페이스 시스템.
pros:
  - 관리자가 역할별 표준 환경을 배포하고, 사용자가 그 위에서 커스터마이징하는 최적의 균형
  - 크로스 디바이스 복원으로 어느 PC에서 로그인해도 동일 환경 사용 가능
  - 워크스페이스 버전 관리로 이전 상태로 롤백 가능
  - 조직 차원의 업무 환경 표준화와 개인 자율성을 동시에 달성
cons:
  - 구현 복잡도가 가장 높음 (서버 API, 관리자 UI, 동기화, 버전 관리 등)
  - 서버 측 저장소와 API 설계가 필요
  - 프리셋 배포, 버전 관리, 충돌 해결 등 운영 복잡도 증가
  - 워크스페이스 관련 버그 발생 시 사용자 업무에 직접적 영향
bestFor:
  - 대규모 조직에서 역할이 명확하고, 다수의 사용자가 표준화된 환경을 사용해야 하는 경우
  - 크로스 디바이스 사용이 빈번한 환경 (교대 근무, 핫데스킹 등)
  - 워크스페이스를 조직 차원의 업무 효율 도구로 활용하려는 경우
---

## 개요

전체 워크스페이스 시스템은 역할별 프리셋, 관리자 배포, 사용자 커스터마이징, 자동 저장, 크로스 디바이스 복원, 버전 관리를 모두 포함하는 가장 완전한 형태다. 조직의 업무 환경을 체계적으로 관리하면서도 사용자의 자율성을 보장한다.

## 워크스페이스 계층 구조

```
시스템 기본 (System Default)
  └── 역할별 프리셋 (Role Preset) ← 관리자가 정의·배포
       └── 사용자 커스텀 (User Custom) ← 사용자가 프리셋 기반으로 수정
            └── 자동 저장 세션 (Auto-saved Session) ← 마지막 작업 상태 자동 보관
```

### 워크스페이스 유형

| 유형 | 소유자 | 편집 | 적용 대상 |
|------|--------|------|----------|
| **시스템 기본** | 시스템 | 불가 | 역할/프리셋이 없는 사용자 |
| **역할 프리셋** | 관리자 | 관리자만 | 해당 역할의 모든 사용자 |
| **사용자 커스텀** | 사용자 | 자유 | 해당 사용자만 |
| **자동 세션** | 시스템 | 자동 | 해당 사용자의 마지막 세션 |

## 로그인 시 복원 우선순위

1. **자동 세션**이 있고, "마지막 세션 복원" 설정이 켜져 있으면 → 자동 세션 복원
2. **사용자 기본 워크스페이스**가 지정되어 있으면 → 해당 워크스페이스 복원
3. **역할 프리셋**이 있으면 → 프리셋 적용
4. 모두 없으면 → **시스템 기본** 적용

## 관리자 배포 기능

### 프리셋 생성 및 배포

- 관리자가 포털에서 직접 탭/레이아웃을 구성하고 "프리셋으로 저장"
- 또는 관리자 도구에서 프리셋을 시각적으로 편집
- 생성한 프리셋을 하나 이상의 역할에 매핑하여 배포

### 배포 정책

| 정책 | 동작 | 사용 시나리오 |
|------|------|-------------|
| **신규 사용자만** | 해당 역할의 신규 사용자에게만 적용 | 기존 사용자 환경 존중 |
| **미커스터마이징 사용자** | 프리셋을 변경하지 않은 사용자에게 자동 적용 | 균형 잡힌 접근 |
| **알림 후 적용** | 모든 사용자에게 업데이트 알림, 선택적 적용 | 사용자 자율 중시 |
| **강제 적용** | 모든 사용자의 환경을 새 프리셋으로 덮어쓰기 | 보안/규정 변경 시 |

### 프리셋 버전 관리

- 프리셋 변경 시 버전 번호 증가 (v1, v2, v3...)
- 이전 버전으로 롤백 가능
- 변경 이력 조회 (누가, 언제, 무엇을 변경했는지)

## 크로스 디바이스 복원

서버에 저장된 워크스페이스는 어느 디바이스에서든 복원된다:

| 시나리오 | 동작 |
|---------|------|
| 같은 PC, 같은 브라우저 | 자동 세션 복원 (빠름) |
| 같은 PC, 다른 브라우저 | 서버에서 워크스페이스 로딩 |
| 다른 PC | 서버에서 워크스페이스 로딩, 뷰포트에 맞게 레이아웃 적응 |
| 데스크톱 → 태블릿 | 워크스페이스 로딩 + 패널 수 자동 축소 (반응형 적응) |

## 동기화 전략

같은 사용자가 여러 기기에서 동시에 포털을 사용할 경우:

- 워크스페이스 변경은 마지막 저장 우선 (Last Write Wins)
- 자동 세션은 기기별 독립 관리 (기기 A의 세션과 기기 B의 세션이 별개)
- 명시적 저장(Save)은 서버에 즉시 반영, 다른 기기는 다음 로그인 시 최신 버전 로딩

## 데이터 모델 요약

워크스페이스 엔티티의 주요 필드:

| 필드 | 설명 |
|------|------|
| id | 고유 식별자 |
| name | 워크스페이스 이름 |
| type | system / role-preset / user / auto-session |
| owner | userId 또는 'system' |
| roleId | 역할 프리셋인 경우 연결된 역할 |
| isDefault | 해당 사용자의 기본 워크스페이스 여부 |
| tabs | 탭 목록 (앱 ID, 경로, 파라미터, 제목, 순서) |
| layout | 레이아웃 트리 (패널 분할 구조) |
| panelLinks | 패널 간 연동 설정 |
| version | 버전 번호 |
| updatedAt | 마지막 수정 시각 |

## 제약 사항 및 고려사항

1. **구현 비용**: 서버 API, 관리자 UI, 동기화 로직, 버전 관리 등 상당한 개발 리소스 필요
2. **데이터 마이그레이션**: 워크스페이스 스키마가 변경되면 기존 저장 데이터의 마이그레이션 필요
3. **성능**: 워크스페이스 로딩(서버 요청) → 탭 복원(각 앱 로딩)으로 초기 로딩 시간 증가 가능
4. **충돌 관리**: 다중 기기에서 동시 수정 시 충돌 해결 전략이 필요
5. **운영 부담**: 역할별 프리셋 관리, 배포 정책 결정 등 지속적인 운영 활동 필요
