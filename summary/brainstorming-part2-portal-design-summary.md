# Part 2: í¬í„¸ ì„¤ê³„ ì‹¬í™” - ì •ë¦¬ ë¬¸ì„œ

## ê°œìš”

6ëª…ì˜ ì „ë¬¸ê°€(ì•„í‚¤í…ì²˜, SW, AI, DB, UX/ë³´ì•ˆ, PM)ê°€ Micro Frontend ê¸°ë°˜ í¬í„¸ì˜ ì„¤ê³„ë¥¼ ì‹¬í™” ë…¼ì˜í•œ ê²°ê³¼ë¬¼ë¡œ, Shell App êµ¬ì¡°, ë‹¤ì¤‘ íƒ­/íŒ¨ë„ ë ˆì´ì•„ì›ƒ, ë³´ì•ˆ ê²©ë¦¬, Design System, AI-executable ë¬¸ì„œ ìˆ˜ì¤€ê¹Œì§€ ì´ 10ê°œ í† ì˜ì—ì„œ 13ê°œ í•µì‹¬ ê²°ì •ì‚¬í•­ì„ ë„ì¶œí•˜ì˜€ë‹¤.

## í•µì‹¬ ê²°ì • ì‚¬í•­ ìš”ì•½

| # | ê²°ì • ì‚¬í•­ | ë‚´ìš© |
|---|----------|------|
| 1 | Micro Frontend ë°©ì‹ | Contract ê¸°ë°˜ Shell + Adapter íŒ¨í„´ (MF/Single-SPA/iframe ëª¨ë‘ ìˆ˜ìš©) |
| 2 | Shell ì±…ì„ | auth, navigation, eventsë§Œ. ë‚˜ë¨¸ì§€ëŠ” ë…ë¦½ SDK |
| 3 | Remote App ê³„ì•½ | bootstrap/mount/unmount ìƒëª…ì£¼ê¸° + manifest |
| 4 | App Registry | í•˜ì´ë¸Œë¦¬ë“œ (ë¹Œë“œ ì‹œ ê¸°ë³¸ê°’ + ëŸ°íƒ€ì„ API ê°±ì‹ ) |
| 5 | UX ìµœì í™” | Skeleton UI + ìƒìœ„ 3ë©”ë‰´ í”„ë¦¬í˜ì¹­ + ìƒíƒœ ìºì‹± |
| 6 | ë³´ì•ˆ ê²©ë¦¬ | ë‚´ë¶€ ì•±: ê°™ì€ ì»¨í…ìŠ¤íŠ¸, ì™¸ë¶€ ì•±: iframe (2-tier) |
| 7 | Design System | Tier 1(Design Token) + Tier 2(ë„¤ì´í‹°ë¸Œ ì»´í¬ë„ŒíŠ¸ + Web Components) |
| 8 | ë¬¸ì„œ ìˆ˜ì¤€ | AI-executable: íƒ€ì…/API/DBìŠ¤í‚¤ë§ˆ/ë””ë ‰í† ë¦¬/í…ŒìŠ¤íŠ¸ í¬í•¨ |
| 9 | ë‹¤ì¤‘ íƒ­ ì‹œìŠ¤í…œ | In-App Tab + Pop-out + LRU ë©”ëª¨ë¦¬ ê´€ë¦¬ + ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í”„ë¦¬ì…‹ |
| 10 | ë¼ìš°íŒ… (ë‹¤ì¤‘ íƒ­) | URLì€ í™œì„± íƒ­ë§Œ ë°˜ì˜. ì „ì²´ íƒ­ ìƒíƒœëŠ” ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë¡œ ê´€ë¦¬ |
| 11 | MDI/ë ˆì´ì•„ì›ƒ | TDI + Split View (Phase 1) â†’ Docking í™•ì¥ ê°€ëŠ¥. íŠ¸ë¦¬ êµ¬ì¡° ì§ë ¬í™” |
| 12 | íŒ¨ë„ ì—°ë™ | PanelLinkë¡œ ë§ˆìŠ¤í„°-ë””í…Œì¼ íŒ¨í„´ ì§€ì› |
| 13 | ë°˜ì‘í˜• ì ì‘ | ë·°í¬íŠ¸ í¬ê¸°ë³„ ìµœëŒ€ íŒ¨ë„ ìˆ˜ ìë™ ì¡°ì ˆ |

---

## í† ì˜ë³„ ì •ë¦¬

### 1. Micro Frontend í†µí•© ë°©ì‹ (í† ì˜ 1)

**ê²°ì •**: Shell Appì€ í†µí•© ë°©ì‹ì— ë¬´ê´€í•œ ê³„ì•½(Contract) ê¸°ë°˜ ì„¤ê³„. Adapter íŒ¨í„´ìœ¼ë¡œ Module Federation / Single-SPA / iframe ëª¨ë‘ ìˆ˜ìš© ê°€ëŠ¥í•˜ê²Œ êµ¬í˜„í•œë‹¤.

**ê·¼ê±°**:
- Module Federationì€ ê³µìœ  ë””íœë˜ì‹œ ìµœì í™”(React ë“± 1íšŒ ë¡œë”©)ì— ìœ ë¦¬í•˜ë‚˜, í”„ë ˆì„ì›Œí¬ê°€ í˜¼ì¬ëœ ê²½ìš° ì´ì ì´ ì¤„ì–´ë“¦
- Single-SPAëŠ” í”„ë ˆì„ì›Œí¬ ë…ë¦½ì ì´ë‚˜ ë””íœë˜ì‹œ ê³µìœ ê°€ ì•ˆ ë¨
- iframeì€ ì™„ë²½í•œ ê²©ë¦¬ë¥¼ ì œê³µí•˜ë‚˜ UXê°€ ìµœì•…
- í”„ë¡œì íŠ¸ í˜„í™©ì— ë”°ë¼ ìµœì  ë°©ì‹ì´ ë‹¬ë¼ì§€ë¯€ë¡œ, Shell Appì˜ Contractë§Œ ì˜ ì •ì˜í•˜ë©´ Adapter ë ˆì´ì–´ì—ì„œ í†µí•© ë°©ì‹ì„ êµì²´í•  ìˆ˜ ìˆìŒ

**ì„¸ë¶€ ì‚¬í•­**:
- ëŒ€ë¶€ë¶„ì˜ í”„ë¡œì íŠ¸ê°€ React ê³„ì—´ì´ë©´ Module Federation ìœ ë¦¬
- í”„ë ˆì„ì›Œí¬ê°€ ì œê°ê°ì´ë©´ Single-SPAê°€ ì í•©
- ê²°ì •ì„ ë¯¸ë£¨ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë‘ ë°©ì‹ ëª¨ë‘ ìˆ˜ìš© ê°€ëŠ¥í•œ ì„¤ê³„ê°€ í•µì‹¬

---

### 2. Shell App ì±…ì„ ë²”ìœ„ ë° Contract (í† ì˜ 2)

**ê²°ì •**: Shell ContextëŠ” auth, navigation, eventsë§Œ í¬í•¨. masterData ë“±ì€ ë…ë¦½ SDKë¡œ ë¶„ë¦¬í•œë‹¤.

**Shell App 5ëŒ€ ì±…ì„**:
1. ì¸ì¦ ìƒíƒœ ê´€ë¦¬ - SSO ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ, Token ë³´ê´€, ê°±ì‹ 
2. ê¸€ë¡œë²Œ ë ˆì´ì•„ì›ƒ - Header, Sidebar, Footer
3. ë¼ìš°íŒ… - URL ê²½ë¡œ -> Remote App ë§¤í•‘, ì•± ì „í™˜
4. ì´ë²¤íŠ¸ ë²„ìŠ¤ - Shell <-> Remote App ê°„ í†µì‹  ì±„ë„
5. ê¸€ë¡œë²Œ ê¸°ëŠ¥ - í†µí•© ê²€ìƒ‰, ì•Œë¦¼, ì‚¬ìš©ì í”„ë¡œí•„

**Context ë¶„ë¦¬ ì›ì¹™**:
```
Shell Contextì— ë„£ì„ ê²ƒ: auth, navigation, events (Shell ê³ ìœ  ê¸°ëŠ¥)
ë³„ë„ SDKë¡œ ì œê³µí•  ê²ƒ: masterData, analytics, feature-flags (ë…ë¦½ ê¸°ëŠ¥)
```

**í•µì‹¬ ì¸í„°í˜ì´ìŠ¤**:

```typescript
// Remote Appì´ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ê³„ì•½
interface RemoteApp {
  // ì•± ìƒëª…ì£¼ê¸°
  bootstrap(): Promise<void>;   // ìµœì´ˆ 1íšŒ: ë¦¬ì†ŒìŠ¤ ì´ˆê¸°í™”
  mount(container: HTMLElement, context: AppContext): Promise<void>;   // DOMì— ë§ˆìš´íŠ¸
  unmount(): Promise<void>;     // DOMì—ì„œ ì œê±°

  // ë©”íƒ€ë°ì´í„°
  manifest: {
    id: string;                 // ê³ ìœ  ì‹ë³„ì
    name: string;               // í‘œì‹œëª…
    routes: RouteConfig[];      // ë¼ìš°íŒ… ê²½ë¡œ ëª©ë¡
    permissions: string[];      // í•„ìš” ê¶Œí•œ ëª©ë¡
    version: string;
  };
}

// Shellì´ Remote Appì— ì œê³µí•˜ëŠ” ì»¨í…ìŠ¤íŠ¸
interface AppContext {
  auth: {
    user: UserInfo;
    token: string;
    hasPermission(permission: string): boolean;
  };
  navigation: {
    navigate(path: string): void;
    getCurrentPath(): string;
  };
  events: {
    emit(event: string, payload: any): void;
    on(event: string, handler: Function): Unsubscribe;
  };
  i18n: {
    locale: string;
    t(key: string): string;
  };
  masterData: {
    getCode(groupId: string, codeId: string): CodeInfo;
    getCodeList(groupId: string): CodeInfo[];
  };
}
```

> ì£¼: `masterData`ëŠ” AppContextì—ì„œ ì œê±°í•˜ê³  ë³„ë„ SDK importë¡œ ì „í™˜í•˜ê¸°ë¡œ í•©ì˜. Shellì´ Single Point of Failureê°€ ë˜ëŠ” ê²ƒì„ ë°©ì§€í•˜ê¸° ìœ„í•¨.

---

### 3. UX ìµœì í™” (í† ì˜ 3)

**ê²°ì •**: Skeleton UI + ìƒìœ„ ë©”ë‰´ í”„ë¦¬í˜ì¹­ + ì•± ìƒíƒœ ìºì‹±ì„ Phase 1ì— í¬í•¨í•œë‹¤.

**í•´ê²° ëŒ€ìƒ ë¬¸ì œì **:
1. ì•± ì „í™˜ ì‹œ 1-2ì´ˆ ë¹ˆ í™”ë©´ (Remote App ë¡œë”© ì‹œê°„)
2. ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ì´ˆê¸°í™” (ì´ì „ ì•± ìƒíƒœ ì†Œì‹¤)
3. ìŠ¤íƒ€ì¼ ê¹œë¹¡ì„ (CSS ë¡œë”© ìˆœì„œ ì°¨ì´)

**UX ìµœì í™” ì „ëµ**:
1. **Skeleton UI**: ì•± ë¡œë”© ì¤‘ ë ˆì´ì•„ì›ƒ ë¼ˆëŒ€ë¥¼ ë¨¼ì € í‘œì‹œ
2. **í”„ë¦¬í˜ì¹­**: ì‚¬ì´ë“œë°”ì—ì„œ ë§ˆìš°ìŠ¤ í˜¸ë²„ ì‹œ ë‹¤ìŒ ì•±ì„ ë¯¸ë¦¬ ë¡œë”©
3. **ì•± ìƒíƒœ ìºì‹±**: unmount ì‹œ ìƒíƒœë¥¼ SessionStorageì— ë³´ê´€, ì¬ì§„ì… ì‹œ ë³µì›
4. **CSS-in-JS ë˜ëŠ” Scoped CSS**: ì•± ê°„ ìŠ¤íƒ€ì¼ ì¶©ëŒ ë°©ì§€

**í”„ë¦¬í˜ì¹­ ë¡œë”© ì „ëµ**:
```
ì¦‰ì‹œ ë¡œë”©: í˜„ì¬ ë¼ìš°íŠ¸ì˜ ì•±
í”„ë¦¬í˜ì¹˜: ì‚¬ì´ë“œë°” ìƒìœ„ 3ê°œ ë©”ë‰´ì˜ ì•±
ì§€ì—° ë¡œë”©: ë‚˜ë¨¸ì§€ (ì‚¬ìš©ì ì ‘ê·¼ ì‹œ)
```

> AI ê¸°ë°˜ ì‚¬ìš©ì ë©”ë‰´ ì ‘ê·¼ íŒ¨í„´ ì˜ˆì¸¡ í”„ë¦¬í˜ì¹­ì€ Phase 4 ì˜ì—­.

---

### 4. Remote App ê°„ ë³´ì•ˆ ê²©ë¦¬ (í† ì˜ 4)

**ê²°ì •**: ë‚´ë¶€ ì•±ì€ Module Federation(ê°™ì€ ì»¨í…ìŠ¤íŠ¸), ì™¸ë¶€/ì‹ ë¢° ë¶ˆê°€ ì•±ì€ iframe ê²©ë¦¬. 2-tier ë³´ì•ˆ ëª¨ë¸.

**ê²©ë¦¬ ìˆ˜ì¤€ ì„ íƒì§€ ë¹„êµ**:
| ë°©ì‹ | ì„±ëŠ¥ | ê²©ë¦¬ ìˆ˜ì¤€ | ë¹„ê³  |
|------|------|-----------|------|
| ê°™ì€ ì»¨í…ìŠ¤íŠ¸ (MF ê¸°ë³¸) | ìµœê³  | ì—†ìŒ | ë‚´ë¶€ ì•±ì— ì í•© |
| Shadow DOM | ì–‘í˜¸ | ìŠ¤íƒ€ì¼ë§Œ | JSëŠ” ê³µìœ  |
| Web Worker | ì–‘í˜¸ | JS ê²©ë¦¬ | DOM ì ‘ê·¼ ë¶ˆê°€ (ë¹„í˜„ì‹¤ì ) |
| iframe | ë³´í†µ | ì™„ë²½ | UX ìµœì•…, ì™¸ë¶€ ì•±ìš© |

**2-tier ì „ëµ**:
- **ë‚´ë¶€ í”„ë¡œì íŠ¸**: ì½”ë“œ ë¦¬ë·° + CI/CD íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ì‹ ë¢° í™•ë³´, ê°™ì€ JS ì»¨í…ìŠ¤íŠ¸ + CSP í—¤ë”
- **ì™¸ë¶€/ì„œë“œíŒŒí‹° í”„ë¡œì íŠ¸**: iframe ìƒŒë“œë°•ìŠ¤ ì ìš©

---

### 5. ë¼ìš°íŒ… ì„¤ê³„ & App Registry (í† ì˜ 5)

**ê²°ì •**: App Registry Service ë„ì…. Shellì€ ë¹Œë“œ ì‹œ ê¸°ë³¸ manifest í¬í•¨ + ëŸ°íƒ€ì„ì— Registry APIë¡œ ìµœì‹  ì •ë³´ ê°±ì‹ . ì¥ì•  ì‹œ fallback.

**ë¼ìš°íŒ… ì‹œí€€ìŠ¤**:
```
ì‚¬ìš©ì -> /project-a/dashboard ì ‘ê·¼
    |
    v
[1] Shell App ë¡œë”© (ì´ë¯¸ ë¡œë”©ë¨)
    |
    v
[2] Shell Router: "/project-a/*" -> Remote App A ë§¤í•‘ í™•ì¸
    |
    v
[3] Auth Check: í˜„ì¬ ì‚¬ìš©ìê°€ project-a ì ‘ê·¼ ê¶Œí•œ ìˆëŠ”ì§€ í™•ì¸
    |-- ê¶Œí•œ ì—†ìŒ -> 403 í˜ì´ì§€ ë˜ëŠ” ê¶Œí•œ ìš”ì²­ ì•ˆë‚´
    |-- ë¯¸ì¸ì¦ -> SSO ë¡œê·¸ì¸ ë¦¬ë‹¤ì´ë ‰íŠ¸
    |
    v
[4] Remote App A ë¡œë”© (í”„ë¦¬í˜ì¹˜ë¨ì´ë©´ ì¦‰ì‹œ, ì•„ë‹ˆë©´ fetch)
    |
    v
[5] Shellì´ Remote App Aë¥¼ ì»¨í…Œì´ë„ˆ DOMì— mount
    |-- AppContext ì „ë‹¬ (auth, navigation, events)
    |-- ë‚´ë¶€ ê²½ë¡œ "/dashboard"ë¥¼ Remote App Aì— ì „ë‹¬
    |
    v
[6] Remote App Aê°€ ìì²´ ë¼ìš°í„°ë¡œ "/dashboard" ë Œë”ë§
```

**manifest.json ìŠ¤í‚¤ë§ˆ**:
```json
{
  "id": "project-a",
  "name": "í”„ë¡œì íŠ¸ A",
  "basePath": "/project-a",
  "entry": "https://cdn.example.com/project-a/remoteEntry.js",
  "routes": [
    {
      "path": "/dashboard",
      "name": "ëŒ€ì‹œë³´ë“œ",
      "icon": "dashboard",
      "group": "main",
      "order": 1,
      "showInSidebar": true
    }
  ],
  "requiredPermissions": ["PROJECT_A_ACCESS"],
  "version": "1.2.0",
  "framework": "react",
  "loadStrategy": "module-federation"
}
```

**App Registry ì €ì¥ ì „ëµ - í•˜ì´ë¸Œë¦¬ë“œ ë°©ì‹**:
1. ì •ì  ì„¤ì •: Shell App ë¹Œë“œ ì‹œ ê¸°ë³¸ manifest í¬í•¨
2. API ê¸°ë°˜: ëŸ°íƒ€ì„ì— Registry Serviceì—ì„œ ìµœì‹  manifest ì¡°íšŒ
3. Registry ì¥ì•  ì‹œì—ë„ ê¸°ë³¸ manifestë¡œ ë™ì‘ ë³´ì¥

---

### 6. Design System ì „ëµ (í† ì˜ 6)

**ê²°ì •**: Design Token(CSS ë³€ìˆ˜) + ì£¼ë ¥ í”„ë ˆì„ì›Œí¬ ë„¤ì´í‹°ë¸Œ ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ + Web Components fallback.

**2-tier ì „ëµ**:
```
Tier 1: Design Token (CSS ë³€ìˆ˜) - ëª¨ë“  í”„ë ˆì„ì›Œí¬ì—ì„œ ì‚¬ìš© ê°€ëŠ¥
Tier 2: í”„ë ˆì„ì›Œí¬ë³„ ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
        - @portal/react-ui (React í”„ë¡œì íŠ¸ìš©)
        - @portal/vue-ui (Vue í”„ë¡œì íŠ¸ìš©)
        - Web Components (í”„ë ˆì„ì›Œí¬ ë¶ˆë¬¸ fallback)
```

**Design Token CSS ë³€ìˆ˜**:
```css
/* tokens.css - ëª¨ë“  ì•±ì´ ì´ íŒŒì¼ì„ import */
:root {
  /* Color */
  --color-primary: #1a73e8;
  --color-primary-hover: #1557b0;
  --color-error: #d93025;
  --color-success: #188038;
  --color-bg-primary: #ffffff;
  --color-bg-secondary: #f8f9fa;
  --color-text-primary: #202124;
  --color-text-secondary: #5f6368;

  /* Typography */
  --font-family: 'Pretendard', -apple-system, sans-serif;
  --font-size-xs: 12px;
  --font-size-sm: 14px;
  --font-size-md: 16px;
  --font-size-lg: 20px;
  --font-size-xl: 24px;

  /* Spacing */
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;

  /* Border Radius */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;

  /* Shadow */
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.1);
  --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
  --shadow-lg: 0 10px 15px rgba(0,0,0,0.1);
}
```

**Web ComponentsëŠ” fallbackìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ì´ìœ **: DX(ê°œë°œì ê²½í—˜)ê°€ React/Vue ë„¤ì´í‹°ë¸Œ ì»´í¬ë„ŒíŠ¸ë³´ë‹¤ ì—´ë“±í•¨ (íƒ€ì… ì¶”ë¡ , ì´ë²¤íŠ¸ í•¸ë“¤ë§, ìƒíƒœ ë°”ì¸ë”©ì´ ìì—°ìŠ¤ëŸ½ì§€ ì•ŠìŒ).

---

### 7. AI-Executable ë¬¸ì„œ ìˆ˜ì¤€ ì •ì˜ (í† ì˜ 7)

**ê²°ì •**: PRD/TRDë¥¼ AI-executable ìˆ˜ì¤€ìœ¼ë¡œ ì‘ì„±í•˜ë ¤ë©´, íƒ€ì… ì •ì˜/API ìŠ¤í‚¤ë§ˆ/DB ìŠ¤í‚¤ë§ˆ/ë””ë ‰í† ë¦¬ êµ¬ì¡°/í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ê°€ í•„ìˆ˜.

**AIê°€ ì½”ë“œë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ í•„ìš”í•œ 6ê°€ì§€ ìš”ì†Œ**:
1. ë””ë ‰í† ë¦¬ êµ¬ì¡° ëª…ì„¸: ì–´ë–¤ íŒŒì¼ì´ ì–´ë””ì— ìˆì–´ì•¼ í•˜ëŠ”ì§€
2. ì¸í„°í˜ì´ìŠ¤/íƒ€ì… ì •ì˜: TypeScript ìˆ˜ì¤€ì˜ êµ¬ì²´ì ì¸ íƒ€ì…
3. API ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡: ì…ë ¥/ì¶œë ¥ ìŠ¤í‚¤ë§ˆ í¬í•¨
4. ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨: ì£¼ìš” íë¦„ì˜ ë‹¨ê³„ë³„ í˜¸ì¶œ ìˆœì„œ
5. ë°ì´í„° ëª¨ë¸: ERD ë˜ëŠ” SQL ìŠ¤í‚¤ë§ˆ
6. í™˜ê²½ ì„¤ì •: ì˜ì¡´ì„±, í™˜ê²½ ë³€ìˆ˜, ì„¤ì • íŒŒì¼

**ê²€ì¦ ê¸°ì¤€**: AIê°€ ë§Œë“  ì½”ë“œê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•˜ê¸° ìœ„í•œ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ë„ ë¬¸ì„œì— í¬í•¨í•´ì•¼ í•¨.

**ë¬¸ì„œ êµ¬ë¶„**:
```
PRD: ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ + ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤ + ê²€ì¦ ê¸°ì¤€
TRD: ë””ë ‰í† ë¦¬ êµ¬ì¡° + íƒ€ì… ì •ì˜ + API ìŠ¤í‚¤ë§ˆ + DB ìŠ¤í‚¤ë§ˆ + ì‹œí€€ìŠ¤ + í™˜ê²½ ì„¤ì •
```

---

### 8. MESí˜• ë‹¤ì¤‘ í™”ë©´ ë™ì‹œ ì‘ì—… (í† ì˜ 8)

**ê²°ì •**: In-App Tab + Pop-out + LRU ë©”ëª¨ë¦¬ ê´€ë¦¬ + ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í”„ë¦¬ì…‹

**ë°°ê²½**: MES/ERP/WMS/SCM ë“± ì‚°ì—…ìš© ì‹œìŠ¤í…œì—ì„œ ì‚¬ìš©ìëŠ” ë™ì‹œì— 3~5ê°œ í™”ë©´ì„ ì—´ì–´ë‘ê³  ìˆ˜ì´ˆ ê°„ê²©ìœ¼ë¡œ íƒ­ì„ ì „í™˜í•˜ë©°, í™”ë©´ ì „í™˜ ì‹œ ì…ë ¥ ìƒíƒœê°€ ì‚¬ë¼ì§€ë©´ ì¹˜ëª…ì . ê¸°ì¡´ ì›¹ í¬í„¸ì˜ ë‹¨ì¼ í™”ë©´ ë¼ìš°íŒ… ëª¨ë¸ì€ ì´ ì‹œë‚˜ë¦¬ì˜¤ì— ë¶€ì í•©.

**í•µì‹¬ ì¸í„°í˜ì´ìŠ¤**:

```typescript
// íƒ­ ì»¨í…Œì´ë„ˆ ë§¤ë‹ˆì €
class TabContainerManager {
  private containers: Map<string, HTMLElement> = new Map();
  private apps: Map<string, MountedApp> = new Map();

  // íƒ­ í™œì„±í™”: ê¸°ì¡´ ì•±ì€ ìˆ¨ê¸°ê³ , ëŒ€ìƒ ì•±ë§Œ ë³´ì´ê¸°
  activateTab(tabId: string): void {
    // ëª¨ë“  ì»¨í…Œì´ë„ˆ ìˆ¨ê¸°ê¸°
    this.containers.forEach((el, id) => {
      el.style.display = id === tabId ? 'block' : 'none';
    });

    // ë¹„í™œì„± íƒ­ì˜ requestAnimationFrame, setInterval ì¼ì‹œì •ì§€
    this.apps.forEach((app, id) => {
      if (id === tabId) {
        app.resume?.();   // í¬ì»¤ìŠ¤ ì´ë²¤íŠ¸ ë°œí–‰
      } else {
        app.suspend?.();  // ë°±ê·¸ë¼ìš´ë“œ ì „í™˜ ì´ë²¤íŠ¸ ë°œí–‰
      }
    });
  }

  // ìƒˆ íƒ­ ì—´ê¸°: ì»¨í…Œì´ë„ˆ ìƒì„± + ì•± ë§ˆìš´íŠ¸
  openTab(tabId: string, appId: string, route: string): void {
    const container = document.createElement('div');
    container.id = `tab-${tabId}`;
    this.rootElement.appendChild(container);
    this.containers.set(tabId, container);

    const app = this.loadApp(appId);
    app.mount(container, { ...this.context, initialRoute: route });
    this.apps.set(tabId, app);

    this.activateTab(tabId);
  }

  // íƒ­ ë‹«ê¸°: ì•± unmount + ì»¨í…Œì´ë„ˆ ì œê±°
  closeTab(tabId: string): void {
    const app = this.apps.get(tabId);
    app?.unmount();
    this.containers.get(tabId)?.remove();
    this.containers.delete(tabId);
    this.apps.delete(tabId);
  }
}
```

```typescript
// Pop-out ì°½ì˜ ê²½ëŸ‰ ì‰˜ êµ¬ì¡°
interface PopoutShell {
  // ë©”ì¸ Shellê³¼ ì¸ì¦ ìƒíƒœ ê³µìœ  (BroadcastChannel)
  auth: SharedAuthState;

  // ìµœì†Œí•œì˜ í—¤ë” (ì•± ì´ë¦„ + ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸° ë²„íŠ¼)
  header: MinimalHeader;

  // ë‹¨ì¼ Remote App ë§ˆìš´íŠ¸
  mountApp(appId: string, route: string): void;

  // ë©”ì¸ Shellê³¼ ì´ë²¤íŠ¸ ë™ê¸°í™”
  eventBridge: BroadcastChannel;
}
```

```typescript
// ì´ë²¤íŠ¸ ë²„ìŠ¤ (ë¡œì»¬ + í¬ë¡œìŠ¤ìœˆë„ìš° + í¬ë¡œìŠ¤ì„¸ì…˜)
interface PortalEventBus {
  // ë¡œì»¬ ì´ë²¤íŠ¸ (í˜„ì¬ íƒ­/ì°½ ë‚´)
  emit(event: string, payload: any): void;
  on(event: string, handler: Function): Unsubscribe;

  // í¬ë¡œìŠ¤-ìœˆë„ìš° ì´ë²¤íŠ¸ (ê°™ì€ ë¸Œë¼ìš°ì €ì˜ ë‹¤ë¥¸ ì°½/íƒ­)
  broadcast(event: string, payload: any): void;
  onBroadcast(event: string, handler: Function): Unsubscribe;

  // í¬ë¡œìŠ¤-ì„¸ì…˜ ì´ë²¤íŠ¸ (ì„œë²„ ê²½ìœ , ë‹¤ë¥¸ ê¸°ê¸°)
  publish(channel: string, event: string, payload: any): void;
  subscribe(channel: string, handler: Function): Unsubscribe;
}
```

```typescript
// Remote App ìƒëª…ì£¼ê¸° í™•ì¥ (ë‹¤ì¤‘ íƒ­ ì§€ì›)
interface RemoteApp {
  bootstrap(): Promise<void>;
  mount(container: HTMLElement, context: AppContext): Promise<void>;
  unmount(): Promise<void>;

  // ë‹¤ì¤‘ íƒ­ ì§€ì› ì¶”ê°€ ìƒëª…ì£¼ê¸°
  suspend?(): Promise<SerializedState>;  // íœ´ë©´: ìƒíƒœ ë°˜í™˜ í›„ ì •ë¦¬
  resume?(state: SerializedState): Promise<void>;  // ë³µì›: ì €ì¥ëœ ìƒíƒœë¡œ ì¬ê°œ

  // ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ ë³´ê³  (Shellì˜ ë©”ëª¨ë¦¬ ê´€ë¦¬ì— í™œìš©)
  getResourceUsage?(): { heapSize: number; domNodes: number; timers: number };
}
```

```typescript
// ì›Œí¬ìŠ¤í˜ì´ìŠ¤
interface Workspace {
  id: string;
  name: string;
  owner: string;           // userId ë˜ëŠ” 'system' (ê´€ë¦¬ì ë°°í¬)
  isDefault: boolean;      // ë¡œê·¸ì¸ ì‹œ ìë™ ë³µì› ì—¬ë¶€
  tabs: WorkspaceTab[];
  popouts: WorkspacePopout[];
}

interface WorkspaceTab {
  appId: string;
  route: string;
  params: Record<string, string>;  // ë¼ì¸ ID ë“±
  title: string;
  order: number;
}

interface WorkspacePopout {
  appId: string;
  route: string;
  params: Record<string, string>;
  windowPosition: { x: number; y: number; width: number; height: number };
}
```

```typescript
// AppContext íƒ­ ê´€ë ¨ í™•ì¥
interface AppContext {
  // ... ê¸°ì¡´ í•­ëª© ...
  tab: {
    setTitle(title: string): void;           // íƒ­ ì œëª© ë³€ê²½
    setBadge(count: number): void;           // ì•Œë¦¼ ë°°ì§€
    setDirty(isDirty: boolean): void;        // ë¯¸ì €ì¥ ë³€ê²½ í‘œì‹œ
    setLive(isLive: boolean): void;          // ì‹¤ì‹œê°„ ìƒíƒœ í‘œì‹œ
    requestClose(): void;                     // íƒ­ ë‹«ê¸° ìš”ì²­
    onCloseRequested(handler: () => boolean): void; // ë‹«ê¸° ì „ í™•ì¸
  };
}
```

**íƒ­ ì‹œìŠ¤í…œ UX ìš”êµ¬ì‚¬í•­**:

1. **íƒ­ ìƒì„±**
   - ì‚¬ì´ë“œë°” ë©”ë‰´ í´ë¦­ -> ìƒˆ íƒ­ìœ¼ë¡œ ì—´ë¦¼ (ê¸°ì¡´ íƒ­ ìœ ì§€)
   - Ctrl+Click -> ê°•ì œ ìƒˆ íƒ­ (ê°™ì€ í™”ë©´ì„ 2ê°œ ì—´ ìˆ˜ ìˆìŒ)
   - ìµœëŒ€ íƒ­ ìˆ˜ ì œí•œ: ê¸°ë³¸ 10ê°œ (ì„¤ì • ê°€ëŠ¥)
   - ì œí•œ ì´ˆê³¼ ì‹œ: ê°€ì¥ ì˜¤ë˜ëœ ë¹„í™œì„± íƒ­ ìë™ ë‹«ê¸° ì œì•ˆ

2. **íƒ­ ì „í™˜**
   - í´ë¦­ìœ¼ë¡œ ì „í™˜
   - Ctrl+1~9: íƒ­ ë²ˆí˜¸ë¡œ ì§ì ‘ ì´ë™
   - Ctrl+Tab / Ctrl+Shift+Tab: ë‹¤ìŒ/ì´ì „ íƒ­
   - ì „í™˜ ì‹œ ì´ì „ íƒ­ì€ unmountí•˜ì§€ ì•ŠìŒ (ìˆ¨ê¸°ê¸°ë§Œ)

3. **íƒ­ ìƒíƒœ ë³´ì¡´**
   - í¼ ì…ë ¥ ì¤‘ì¸ ë°ì´í„° ìœ ì§€
   - ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ìœ ì§€
   - í…Œì´ë¸” ì •ë ¬/í•„í„° ìƒíƒœ ìœ ì§€
   - ë¡œë”©ëœ ë°ì´í„° ìºì‹œ ìœ ì§€

4. **íƒ­ í‘œì‹œ ì •ë³´**
   - ì•± ì•„ì´ì½˜ + í™”ë©´ ì´ë¦„
   - ìˆ˜ì • ì¤‘ì¸ ë°ì´í„°ê°€ ìˆìœ¼ë©´ "â—" í‘œì‹œ (ë³€ê²½ ê°ì§€)
   - ì‹¤ì‹œê°„ í™”ë©´ì€ "â—‰" í‘œì‹œ (ë¼ì´ë¸Œ ìƒíƒœ)
   - ì•Œë¦¼ ë°°ì§€ ìˆ«ì

5. **íƒ­ ê´€ë¦¬**
   - íƒ­ ë“œë˜ê·¸ë¡œ ìˆœì„œ ë³€ê²½
   - íƒ­ ìš°í´ë¦­ ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´: ë‹«ê¸°, ë‹¤ë¥¸ íƒ­ ëª¨ë‘ ë‹«ê¸°, ìƒˆ ì°½ì—ì„œ ì—´ê¸°
   - ë‹«ê¸° ì‹œ ë¯¸ì €ì¥ ë°ì´í„° ìˆìœ¼ë©´ í™•ì¸ ëŒ€í™”ìƒì

**ë™ì  íƒ­ ì œëª© ê·œì¹™**:
- ê¸°ë³¸: `{í™”ë©´ëª…}`
- ë™ì¼ í™”ë©´ 2ê°œ ì´ìƒ ì—´ë¦´ ë•Œ: `{í™”ë©´ëª…} - {êµ¬ë¶„ íŒŒë¼ë¯¸í„°}`
- ì˜ˆ: "ìƒì‚° í˜„í™© - ë¼ì¸ 1", "í’ˆì§ˆ ê²€ì‚¬ - LOT-2024-001"

**ë©”ëª¨ë¦¬ ê´€ë¦¬ - LRU ê¸°ë°˜ 3ë‹¨ê³„**:
1. **í™œì„±(Active)**: í˜„ì¬ ë³´ê³  ìˆëŠ” íƒ­ (`display: block`)
2. **ìˆ¨ê¹€(Hidden)**: DOM ìœ ì§€, `display: none` (ìƒíƒœ ë³´ì¡´)
3. **íœ´ë©´(Suspended)**: ì•± ìƒíƒœ ì§ë ¬í™” -> SessionStorage ì €ì¥ -> unmount (ë©”ëª¨ë¦¬ í•´ì œ)

- ìµœëŒ€ í™œì„± íƒ­ ìˆ˜ Nê°œ (ë©”ëª¨ë¦¬ ê¸°ë°˜ ë™ì  ì¡°ì ˆ)
- N ì´ˆê³¼ ì‹œ LRU ê¸°ë°˜ìœ¼ë¡œ ê°€ì¥ ì˜¤ë˜ ì‚¬ìš©í•˜ì§€ ì•Šì€ íƒ­ì„ íœ´ë©´ ì²˜ë¦¬
- `performance.memory` APIë¡œ í™ ì‚¬ìš©ëŸ‰ ì¶”ì , ì„ê³„ê°’(1.5GB) ì´ˆê³¼ ì‹œ ìë™ íœ´ë©´ íŠ¸ë¦¬ê±°
- Remote App ê³„ì•½ì— cleanup ë©”ì„œë“œ: unmount ì‹œ íƒ€ì´ë¨¸, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ, WebSocket ì—°ê²° ë°˜ë“œì‹œ í•´ì œ

**ì•Œë¦¼ ìš°ì„ ìˆœìœ„ ëª¨ë¸**:
| ë“±ê¸‰ | ë™ì‘ | ì˜ˆì‹œ |
|------|------|------|
| P0 (Critical) | ëª¨ë“  ì°½ì— í’€ìŠ¤í¬ë¦° ì˜¤ë²„ë ˆì´ + ì‚¬ìš´ë“œ + ì§„ë™. ë¬´ì‹œ ë¶ˆê°€, í™•ì¸(Acknowledge) í–‰ìœ„ ê¸°ë¡ í•„ìˆ˜ | ì„¤ë¹„ ë¹„ìƒ ì •ì§€, ì•ˆì „ ì‚¬ê³  |
| P1 (High) | í˜„ì¬ í¬ì»¤ìŠ¤ ì°½ì— í† ìŠ¤íŠ¸ + ë°°ì§€ + ì‚¬ìš´ë“œ | í’ˆì§ˆ ì´íƒˆ, ìì¬ ë¶€ì¡± |
| P2 (Normal) | ì•Œë¦¼ ì„¼í„°ì— ìŒ“ì„ + ë°°ì§€ | ì‘ì—… ì™„ë£Œ, ìŠ¹ì¸ ìš”ì²­ |
| P3 (Low) | ì•Œë¦¼ ì„¼í„°ì—ë§Œ ìŒ“ì„ | ê³µì§€ì‚¬í•­, ì‹œìŠ¤í…œ ì—…ë°ì´íŠ¸ |

**ìƒíƒœ ë™ê¸°í™” ì „ëµ - í•˜ì´ë¸Œë¦¬ë“œ**:
- ê°™ì€ ë¸Œë¼ìš°ì € ë‚´: BroadcastChannel API (ì¦‰ì‹œ, ì¶”ê°€ ì„œë²„ ë¶ˆí•„ìš”)
- ë‹¤ë¥¸ ê¸°ê¸°/ë¸Œë¼ìš°ì €: WebSocket (ì„œë²„ ê²½ìœ , ì•½ê°„ì˜ ì§€ì—°)

**ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í”„ë¦¬ì…‹**:
- í˜„ì¬ ì—´ë ¤ìˆëŠ” íƒ­ ëª©ë¡ + ê° íƒ­ì˜ ê²½ë¡œ + ë ˆì´ì•„ì›ƒì„ ì €ì¥í•œ ìŠ¤ëƒ…ìƒ·
- "ê·¼ë¬´ ì‹œì‘" ë²„íŠ¼ í•˜ë‚˜ë¡œ ì—­í• ì— ë§ëŠ” í™”ë©´ë“¤ì„ ì¼ê´„ ë³µì›
- ì„œë²„ ì¸¡ ì €ì¥ (ë‹¤ë¥¸ PCì—ì„œ ë¡œê·¸ì¸í•´ë„ ë³µì› ê°€ëŠ¥)
- ê´€ë¦¬ìê°€ ì—­í• ë³„ ê¸°ë³¸ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë¥¼ ë°°í¬ ê°€ëŠ¥

**Shell ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ (ë‹¤ì¤‘ íƒ­ í¬í•¨)**:
```
Shell App ì•„í‚¤í…ì²˜ (ë‹¤ì¤‘ íƒ­ í¬í•¨)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Shell App                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Header  [í†µí•©ê²€ìƒ‰] [ì•Œë¦¼ğŸ””] [í”„ë¡œí•„]    â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚  Tab Bar                               â”‚  â”‚
â”‚  â”‚  [ìƒì‚°í˜„í™©-L1 â—] [ì‘ì—…ì§€ì‹œ â—] [í’ˆì§ˆ â—‰] [+]â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚     â”‚  Tab Content Area                â”‚  â”‚
â”‚  â”‚  S  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  i  â”‚  â”‚  [Active Tab: Remote App] â”‚   â”‚  â”‚
â”‚  â”‚  d  â”‚  â”‚                           â”‚   â”‚  â”‚
â”‚  â”‚  e  â”‚  â”‚  (mountëœ ì•± ë Œë”ë§)       â”‚   â”‚  â”‚
â”‚  â”‚  b  â”‚  â”‚                           â”‚   â”‚  â”‚
â”‚  â”‚  a  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚  r  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚     â”‚  â”‚ [Hidden Tab: Remote App]  â”‚   â”‚  â”‚
â”‚  â”‚  M  â”‚  â”‚ (display: none, ìƒíƒœ ìœ ì§€) â”‚   â”‚  â”‚
â”‚  â”‚  e  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â”‚  n  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  u  â”‚  â”‚ [Suspended Tab: ì§ë ¬í™”ë¨] â”‚   â”‚  â”‚
â”‚  â”‚     â”‚  â”‚ (unmounted, ë©”ëª¨ë¦¬ í•´ì œ)   â”‚   â”‚  â”‚
â”‚  â”‚     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Status Bar  [ë©”ëª¨ë¦¬: 1.2GB] [íƒ­: 5/10] â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

   â†• BroadcastChannel / EventBridge

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Pop-out Window       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Minimal Header   â”‚â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤â”‚
â”‚  â”‚ Remote App       â”‚â”‚
â”‚  â”‚ (ì„¤ë¹„ ëª¨ë‹ˆí„°ë§)    â”‚â”‚
â”‚  â”‚                  â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 9. ë‹¤ì¤‘ íƒ­ ë¼ìš°íŒ… ì¬ì„¤ê³„ (í† ì˜ 9)

**ê²°ì •**: URLì€ í™œì„± íƒ­ë§Œ ë°˜ì˜. ì „ì²´ íƒ­ ìƒíƒœëŠ” ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë¡œ ê´€ë¦¬. ì§ì ‘ URL ì ‘ê·¼ ì‹œ ê¸°ì¡´ íƒ­ ì¬ì‚¬ìš© ë˜ëŠ” ì‹ ê·œ íƒ­ ìƒì„±.

**ë¼ìš°íŒ… ì ‘ê·¼ ë°©ì‹ ë¹„êµ**:
| ì ‘ê·¼ | ë°©ì‹ | ì¥ì  | ë‹¨ì  |
|------|------|------|------|
| ì ‘ê·¼ 1 | URLì€ í™œì„± íƒ­ë§Œ ë°˜ì˜ (`/portal/project-a/dashboard`) | URL ë‹¨ìˆœ, ë¶ë§ˆí¬ ê°€ëŠ¥ | URLë¡œ ì „ì²´ íƒ­ ìƒíƒœ ë³µì› ë¶ˆê°€ |
| ì ‘ê·¼ 2 | URLì— íƒ­ ìƒíƒœ ì¸ì½”ë”© (`/portal?tabs=...&active=0`) | URL ê³µìœ ë¡œ íƒ­ êµ¬ì„± ë³µì› ê°€ëŠ¥ | URL ë³µì¡, ê¸¸ì´ ì œí•œ |

**ì„ íƒ**: ì ‘ê·¼ 1. URLì˜ ì—­í• ê³¼ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì˜ ì—­í• ì„ ë¶„ë¦¬.

```
URLì˜ ì—­í• : "ì§€ê¸ˆ ë³´ê³  ìˆëŠ” í™”ë©´" + ê³µìœ /ë¶ë§ˆí¬
ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì˜ ì—­í• : "ì—´ë ¤ìˆëŠ” ì „ì²´ íƒ­ + ë ˆì´ì•„ì›ƒ" ì €ì¥/ë³µì›
```

**URL ì§ì ‘ ì ‘ê·¼ ì‹œ ë™ì‘ ê·œì¹™**:
1. ì´ë¯¸ í•´ë‹¹ í™”ë©´ì´ íƒ­ìœ¼ë¡œ ì—´ë ¤ìˆìœ¼ë©´ -> í•´ë‹¹ íƒ­ í™œì„±í™”
2. ì—´ë ¤ìˆì§€ ì•Šìœ¼ë©´ -> ìƒˆ íƒ­ìœ¼ë¡œ ì—´ê¸°
3. ìµœì´ˆ ì ‘ê·¼(íƒ­ ì—†ìŒ)ì´ë©´ -> ê¸°ë³¸ ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ë³µì› + í•´ë‹¹ íƒ­ í™œì„±í™”

---

### 10. MDI ë ˆì´ì•„ì›ƒ ì „ëµ (í† ì˜ 10)

**ê²°ì •**: TDI + Split View (Phase 1). ì•„í‚¤í…ì²˜ëŠ” Docking Layout(Phase 2)ìœ¼ë¡œ í™•ì¥ ê°€ëŠ¥í•˜ê²Œ ì„¤ê³„.

**ë ˆì´ì•„ì›ƒ ì „ëµ ë¹„êµ**:

| ì „ëµ | êµ¬í˜„ ë‚œì´ë„ | ë™ì‹œ ê°€ì‹œì„± | ì í•© |
|------|------------|-----------|------|
| A: ìˆœìˆ˜ TDI (íƒ­ë§Œ) | ë‚®ìŒ | 1ê°œ | ì¼ë°˜ ì›¹ì•± |
| B: TDI + Split View | ì¤‘ê°„ | 2~4ê°œ (2x2) | MES, ERP ë“± ì‚°ì—…ìš© |
| C: ììœ  ë„í‚¹ (Docking) | ë§¤ìš° ë†’ìŒ | ë¬´ì œí•œ | íŠ¸ë ˆì´ë”© í„°ë¯¸ë„, IDE |

**Phase êµ¬ë¶„**:
- **Phase 1**: TDI + Split View - ì¢Œ/ìš° ë˜ëŠ” ìƒ/í•˜ ë¶„í•  (ìµœëŒ€ 2x2 = 4íŒ¨ë„), íƒ­ ë“œë˜ê·¸ë¡œ íŒ¨ë„ ê°„ ì´ë™, ë¶„í•  ë¹„ìœ¨ ì¡°ì ˆ
- **Phase 2** (í•„ìš” ì‹œ): Docking Layout - ììœ ë¡œìš´ íŒ¨ë„ ë¶„í• /ë³‘í•©, ê°€ì¥ìë¦¬ ë„í‚¹, "ê³ ì •(pinned)" íŒ¨ë„

**í•µì‹¬ ì¸í„°í˜ì´ìŠ¤**:

```typescript
// ë ˆì´ì•„ì›ƒì€ ì¬ê·€ì  íŠ¸ë¦¬ êµ¬ì¡°
type PanelLayout = PanelLeaf | PanelSplit;

interface PanelLeaf {
  type: 'leaf';
  panelId: string;
  tabs: TabState[];         // ì´ íŒ¨ë„ì— ì†í•œ íƒ­ë“¤
  activeTabIndex: number;
}

interface PanelSplit {
  type: 'split';
  direction: 'horizontal' | 'vertical';
  ratio: number;            // 0.0 ~ 1.0, ì²« ë²ˆì§¸ íŒ¨ë„ì˜ ë¹„ìœ¨
  first: PanelLayout;       // ì™¼ìª½/ìœ„
  second: PanelLayout;      // ì˜¤ë¥¸ìª½/ì•„ë˜
}
```

ë ˆì´ì•„ì›ƒ íŠ¸ë¦¬ ì˜ˆì‹œ (ì¢Œì¸¡ 1ê°œ + ìš°ì¸¡ ìƒí•˜ 2ê°œ = 3íŒ¨ë„):
```typescript
const layout: PanelLayout = {
  type: 'split',
  direction: 'horizontal',
  ratio: 0.4,
  first: {
    type: 'leaf',
    panelId: 'panel-1',
    tabs: [{ appId: 'mes', route: '/orders', title: 'ìƒì‚° ì£¼ë¬¸ ëª©ë¡' }],
    activeTabIndex: 0
  },
  second: {
    type: 'split',
    direction: 'vertical',
    ratio: 0.6,
    first: {
      type: 'leaf',
      panelId: 'panel-2',
      tabs: [{ appId: 'mes', route: '/order-detail', title: 'ì£¼ë¬¸ ìƒì„¸' }],
      activeTabIndex: 0
    },
    second: {
      type: 'leaf',
      panelId: 'panel-3',
      tabs: [{ appId: 'mes', route: '/quality', title: 'í’ˆì§ˆ ê²€ì‚¬' }],
      activeTabIndex: 0
    }
  }
};
```

```typescript
// íŒ¨ë„ ì—°ë™(Linked Panels) - ë§ˆìŠ¤í„°-ë””í…Œì¼ íŒ¨í„´
interface PanelLink {
  id: string;
  sourcePanel: string;        // ë§ˆìŠ¤í„° íŒ¨ë„ ID
  targetPanel: string;        // ë””í…Œì¼ íŒ¨ë„ ID
  eventMapping: {
    sourceEvent: string;      // ì˜ˆ: "order:selected"
    targetAction: string;     // ì˜ˆ: "navigate"
    payloadTransform?: (payload: any) => any;  // ë°ì´í„° ë³€í™˜
  }[];
}

// ì›Œí¬ìŠ¤í˜ì´ìŠ¤ì— íŒ¨ë„ ë§í¬ í¬í•¨
interface Workspace {
  id: string;
  name: string;
  tabs: WorkspaceTab[];
  layout: PanelLayout;       // ë¶„í•  ë ˆì´ì•„ì›ƒ ì •ë³´
  panelLinks: PanelLink[];   // íŒ¨ë„ ê°„ ì—°ë™ ì„¤ì •
}
```

```typescript
// ë ˆì´ì•„ì›ƒ ì ì‘ ê·œì¹™
interface LayoutPolicy {
  breakpoints: {
    desktop: { minWidth: 1920, maxPanels: 4, splitDirections: ['horizontal', 'vertical'] };
    laptop:  { minWidth: 1280, maxPanels: 3, splitDirections: ['horizontal', 'vertical'] };
    tablet:  { minWidth: 768,  maxPanels: 2, splitDirections: ['horizontal'] };
    mobile:  { minWidth: 0,    maxPanels: 1, splitDirections: [] };
  };

  // íŒ¨ë„ ì¶•ì†Œ ì‹œ ë™ì‘
  onPanelOverflow: 'convert-to-tab' | 'hide' | 'stack';
}
```

**Split View UX ì¡°ì‘ ë°©ë²•**:
1. **ë¶„í•  ìƒì„±**
   - ë°©ë²• A: íƒ­ ìš°í´ë¦­ -> "ì˜¤ë¥¸ìª½ì—ì„œ ì—´ê¸°" / "ì•„ë˜ì—ì„œ ì—´ê¸°"
   - ë°©ë²• B: íƒ­ì„ ë“œë˜ê·¸í•˜ì—¬ í™”ë©´ ê°€ì¥ìë¦¬ ìŠ¤ëƒ… ì˜ì—­ì— ë†“ê¸°
   - ë°©ë²• C: í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤ Ctrl+\\ (ì¢Œìš° ë¶„í• ), Ctrl+Shift+\\ (ìƒí•˜ ë¶„í• )
2. **ë¶„í•  ì¡°ì ˆ**
   - ë¶„í• ì„ (Divider) ë“œë˜ê·¸ë¡œ íŒ¨ë„ í¬ê¸° ì¡°ì ˆ
   - ë¶„í• ì„  ë”ë¸”í´ë¦­: 50:50ìœ¼ë¡œ ë¦¬ì…‹
   - ìµœì†Œ íŒ¨ë„ ë„ˆë¹„/ë†’ì´: 300px (ì´í•˜ë¡œ ì¤„ì´ë©´ ìë™ ë‹«í˜)
3. **ë¶„í•  í•´ì œ**
   - íŒ¨ë„ì˜ ë§ˆì§€ë§‰ íƒ­ì„ ë‹«ìœ¼ë©´ íŒ¨ë„ ìë™ ì œê±°
   - íŒ¨ë„ì˜ ëª¨ë“  íƒ­ì„ ë‹¤ë¥¸ íŒ¨ë„ë¡œ ë“œë˜ê·¸í•˜ë©´ ì œê±°

**ë“œë˜ê·¸ ìŠ¤ëƒ… ê°€ì´ë“œ** (VS Code ìŠ¤íƒ€ì¼):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         [ìƒë‹¨]            â”‚
â”‚   â”Œâ”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”    â”‚
â”‚   â”‚ì¢Œâ”‚  [ì¤‘ì•™]   â”‚ìš°â”‚    â”‚
â”‚   â””â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”˜    â”‚
â”‚         [í•˜ë‹¨]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ë°˜ì‘í˜• ì ì‘ ê·œì¹™**:

| ë””ë°”ì´ìŠ¤ | ë·°í¬íŠ¸ | Split View | ì‚¬ì´ë“œë°” | Pop-out |
|---------|--------|-----------|---------|---------|
| ë°ìŠ¤í¬í†± | 1920px+ | 2x2 ìµœëŒ€ | í¼ì¹¨ | ì§€ì› |
| íƒœë¸”ë¦¿ | 768~1919px | ì¢Œìš° 2ë¶„í• ë§Œ | ì ‘í˜ (í–„ë²„ê±°) | ë¯¸ì§€ì› |
| ëª¨ë°”ì¼ | < 768px | ë¯¸ì§€ì› (íƒ­ ì „í™˜ë§Œ) | í•˜ë‹¨ íƒ­ ë°” | ë¯¸ì§€ì› |

- íƒœë¸”ë¦¿ì—ì„œ 4ë¶„í•  ë ˆì´ì•„ì›ƒì„ ì—´ë©´ ìë™ìœ¼ë¡œ 2ë¶„í• ë¡œ ì¶•ì†Œ, ë‚˜ë¨¸ì§€ëŠ” íƒ­ìœ¼ë¡œ ì „í™˜
- ë ˆì´ì•„ì›ƒ ì—”ì§„ì´ ë·°í¬íŠ¸ í¬ê¸°ì— ë”°ë¼ ìë™ ì ì‘

**íŒ¨ë„ë³„ ê¶Œí•œ ê²€ì¦ ê·œì¹™**:
- ê° íŒ¨ë„ì˜ íƒ­ì€ í•´ë‹¹ Remote Appì˜ ê¶Œí•œì„ ë…ë¦½ ê²€ì¦
- íŒ¨ë„ ë§í¬(Master-Detail)ì—ì„œ target ì•±ì˜ ê¶Œí•œë„ ë³„ë„ í™•ì¸
- ê¶Œí•œ ì—†ëŠ” ì•±ì„ íŒ¨ë„ì— ë“œë˜ê·¸í•˜ë©´ -> 403 ì•ˆë‚´ + ê¶Œí•œ ìš”ì²­ ë²„íŠ¼

**MDI -> ì›¹ ë§ˆì´ê·¸ë ˆì´ì…˜ ëŒ€ì‘í‘œ**:

| ê¸°ì¡´ MDI (C/S) | ì›¹ í¬í„¸ ëŒ€ì‘ |
|---------------|-------------|
| ìì‹ ì°½ ì—´ê¸° | ìƒˆ íƒ­ ì—´ê¸° |
| ìì‹ ì°½ ê³„ë‹¨ì‹ ë°°ì¹˜ | íƒ­ ê·¸ë£¹ (ì§€ì› ì•ˆ í•¨, ë¶ˆí•„ìš”) |
| ìì‹ ì°½ íƒ€ì¼ ë°°ì¹˜ | Split View (2x2) |
| ìì‹ ì°½ ìµœì†Œí™” -> í•˜ë‹¨ í‘œì‹œ | íƒ­ìœ¼ë¡œ ì¡´ì¬ (í•­ìƒ ì ‘ê·¼ ê°€ëŠ¥) |
| ìì‹ ì°½ ë“œë˜ê·¸ ì´ë™ | íƒ­ ë“œë˜ê·¸ë¡œ íŒ¨ë„ ê°„ ì´ë™ |
| ì°½ ëª©ë¡(Window List) | íƒ­ ë°” + ì „ì²´ íƒ­ ëª©ë¡ ë“œë¡­ë‹¤ìš´ |
| ë…ë¦½ ì°½ìœ¼ë¡œ ë¶„ë¦¬ | Pop-out (ìƒˆ ë¸Œë¼ìš°ì € ì°½) |
| ì „ì²´ í™”ë©´ ë°°ì¹˜ ì €ì¥ | ì›Œí¬ìŠ¤í˜ì´ìŠ¤ ì €ì¥ |

- **ì‚¬ë¼ì§€ëŠ” ê²ƒ**: MDIì˜ ê²¹ì¹˜ëŠ” ìì‹ ì°½, ììœ  ìœ„ì¹˜ ì§€ì •
- **ëŒ€ì²´ë˜ëŠ” ê²ƒ**: Split View + íƒ­ + Pop-out ì¡°í•©ì´ ë” ë‚˜ì€ ê²½í—˜ ì œê³µ
- **ìƒˆë¡œ ìƒê¸°ëŠ” ê²ƒ**: ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í”„ë¦¬ì…‹, ì‹¤ì‹œê°„ ë™ê¸°í™”, í¬ë¡œìŠ¤ ë””ë°”ì´ìŠ¤ ë³µì›

**ë ˆì´ì•„ì›ƒ ììœ ë„ ì „ëµ - í”„ë¦¬ì…‹ + ì‚¬ìš©ì ì»¤ìŠ¤í„°ë§ˆì´ì¦ˆ**:
- ê´€ë¦¬ìê°€ ì—­í• ë³„ ë ˆì´ì•„ì›ƒ í”„ë¦¬ì…‹ì„ ë°°í¬ (ê¸°ë³¸ê°’)
- ì‚¬ìš©ìê°€ í”„ë¦¬ì…‹ ìœ„ì—ì„œ ì¶”ê°€ë¡œ ë¶„í• /ì´ë™ ê°€ëŠ¥
- ë³€ê²½ëœ ë ˆì´ì•„ì›ƒì„ "ë‚´ ë ˆì´ì•„ì›ƒ"ìœ¼ë¡œ ì €ì¥ ê°€ëŠ¥
- í”„ë¦¬ì…‹ìœ¼ë¡œ ì‰½ê²Œ ì´ˆê¸°í™” ê°€ëŠ¥ ("ê¸°ë³¸ ë ˆì´ì•„ì›ƒìœ¼ë¡œ ë³µì›")

---

## ê¸°ìˆ  ì‚°ì¶œë¬¼ ëª©ë¡

### TypeScript ì¸í„°í˜ì´ìŠ¤
1. `RemoteApp` - Remote App ìƒëª…ì£¼ê¸° ê³„ì•½ (í† ì˜ 2, í† ì˜ 8ì—ì„œ í™•ì¥)
2. `AppContext` - Shellì´ Remote Appì— ì œê³µí•˜ëŠ” ì»¨í…ìŠ¤íŠ¸ (í† ì˜ 2, í† ì˜ 8ì—ì„œ tab í™•ì¥)
3. `PopoutShell` - Pop-out ì°½ì˜ ê²½ëŸ‰ ì‰˜ êµ¬ì¡° (í† ì˜ 8)
4. `PortalEventBus` - ë¡œì»¬/í¬ë¡œìŠ¤ìœˆë„ìš°/í¬ë¡œìŠ¤ì„¸ì…˜ ì´ë²¤íŠ¸ ë²„ìŠ¤ (í† ì˜ 8)
5. `Workspace`, `WorkspaceTab`, `WorkspacePopout` - ì›Œí¬ìŠ¤í˜ì´ìŠ¤ í”„ë¦¬ì…‹ (í† ì˜ 8, í† ì˜ 10ì—ì„œ í™•ì¥)
6. `TabContainerManager` (class) - íƒ­ ì»¨í…Œì´ë„ˆ ë§¤ë‹ˆì € (í† ì˜ 8)
7. `PanelLayout`, `PanelLeaf`, `PanelSplit` - ì¬ê·€ì  ë ˆì´ì•„ì›ƒ íŠ¸ë¦¬ êµ¬ì¡° (í† ì˜ 10)
8. `PanelLink` - íŒ¨ë„ ê°„ ì—°ë™ (ë§ˆìŠ¤í„°-ë””í…Œì¼) ì„¤ì • (í† ì˜ 10)
9. `LayoutPolicy` - ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ ì ì‘ ê·œì¹™ (í† ì˜ 10)

### ì„¤ì •/ìŠ¤í‚¤ë§ˆ
10. `manifest.json` - Remote App ë“±ë¡ ê·œì•½ (í† ì˜ 5)
11. `tokens.css` - Design Token CSS ë³€ìˆ˜ ì •ì˜ (í† ì˜ 6)

### ë‹¤ì´ì–´ê·¸ë¨
12. ë¼ìš°íŒ… ì‹œí€€ìŠ¤ - ì‚¬ìš©ì URL ì ‘ê·¼ë¶€í„° Remote App ë Œë”ë§ê¹Œì§€ (í† ì˜ 5)
13. Shell App ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨ - ë‹¤ì¤‘ íƒ­ í¬í•¨ ASCII art (í† ì˜ 8)
14. ë ˆì´ì•„ì›ƒ ì „ëµ ë¹„êµ ë‹¤ì´ì–´ê·¸ë¨ - TDI/Split View/Docking ë¹„êµ (í† ì˜ 10)
15. ë“œë˜ê·¸ ìŠ¤ëƒ… ê°€ì´ë“œ ë‹¤ì´ì–´ê·¸ë¨ (í† ì˜ 10)

---

## ë‹¤ìŒ ë‹¨ê³„ ì°¸ì¡°

- **Part 3 ì´í›„**: Shell App êµ¬í˜„ ìƒì„¸ (ë””ë ‰í† ë¦¬ êµ¬ì¡°, êµ¬ì²´ì ì¸ ì„¤ì • íŒŒì¼, ë¹Œë“œ íŒŒì´í”„ë¼ì¸)
- **TRD ì‘ì„± ì‹œ**: í† ì˜ 7ì—ì„œ ì •ì˜í•œ AI-executable ìˆ˜ì¤€(íƒ€ì… ì •ì˜/API ìŠ¤í‚¤ë§ˆ/DB ìŠ¤í‚¤ë§ˆ/ë””ë ‰í† ë¦¬ êµ¬ì¡°/í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤)ì„ í¬í•¨í•´ì•¼ í•¨
- **Design System êµ¬í˜„**: Tier 1(tokens.css) ìš°ì„  ë°°í¬, Tier 2(í”„ë ˆì„ì›Œí¬ë³„ ì»´í¬ë„ŒíŠ¸)ëŠ” ì£¼ë ¥ í”„ë ˆì„ì›Œí¬ ê²°ì • í›„
- **Phase 1 êµ¬í˜„ ë²”ìœ„**: In-App Tab + Pop-out + LRU ë©”ëª¨ë¦¬ ê´€ë¦¬ + TDI + Split View + ì›Œí¬ìŠ¤í˜ì´ìŠ¤
- **Phase 2 í™•ì¥**: Docking Layout, AI ê¸°ë°˜ í”„ë¦¬í˜ì¹­ ì˜ˆì¸¡ (Phase 4)
